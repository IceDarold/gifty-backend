# –û–±–∑–æ—Ä Analytics API üìà

–í–µ—Å—å —Ä–∞–∑–¥–µ–ª –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ Gifty –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ **GraphQL**. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –∏–º–µ–Ω–Ω–æ —Ç–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞, –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

API –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ —Ä–æ–ª–∏ –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏ –º–µ–∂–¥—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –¥–∞—à–±–æ—Ä–¥–æ–º –∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (PostHog, Prometheus, PostgreSQL).

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Analytics GraphQL API —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–¥–∞—á–∏ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `X-Analytics-Token`.

| –ó–∞–≥–æ–ª–æ–≤–æ–∫ | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- |
| `X-Analytics-Token` | –°–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω, –∑–∞–¥–∞–Ω–Ω—ã–π –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö (`ANALYTICS_API_TOKEN`). |

## –≠–Ω–¥–ø–æ–∏–Ω—Ç

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ –µ–¥–∏–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç:
- **URL**: `/api/v1/analytics/graphql`
- **–ú–µ—Ç–æ–¥**: `POST` (–∏–ª–∏ `GET` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ GraphiQL –≤ –±—Ä–∞—É–∑–µ—Ä–µ)

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –ø–æ —Ç–∏–ø–∞–º –æ—Ç—á–µ—Ç–æ–≤. –§–∏–ª–æ—Å–æ—Ñ–∏—è –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∫–∞–∂–¥–æ–π –º–µ—Ç—Ä–∏–∫–∏ –æ–ø–∏—Å–∞–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ **[Analytics & Monitoring](../../analytics_monitoring/dashboard.md)**.

### Reports API
*   **[Business Metrics (KPI)](./kpi.md)**: –°–≤–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ PostHog.
*   **[AI Observability](./ai_observability.md)**: –õ–æ–≥–∏ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å LLM.
*   **[Experiments API](./experiments.md)**: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ A/B —Ç–µ—Å—Ç–æ–≤.
*   **[Demand Forecasting API](./demand_forecasting.md)**: –ê–Ω–∞–ª–∏–∑ –¥–µ—Ñ–∏—Ü–∏—Ç–∞ —Ç–æ–≤–∞—Ä–æ–≤.
*   **[Catalog Coverage](./coverage.md)**: –ö–∞—á–µ—Å—Ç–≤–æ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞.
*   **[Recommendation Analysis](./recommendations.md)**: –ì–ª—É–±–∏–Ω–∞ –≤–æ—Ä–æ–Ω–∫–∏ RecSys.
*   **[System Monitoring](./monitoring.md)**: –¢–µ—Ö–∑–¥–æ—Ä–æ–≤—å–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

### –ö–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏ –ë—É–¥—É—â–µ–µ
–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—à–∏—Ö –∏–¥–µ–π –∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
*   **[Demand Forecasting (Concept)](../../analytics_monitoring/demand_forecasting.md)**
*   **[Experiments (Concept)](../../analytics_monitoring/experiments.md)**
*   **[Ideas & Roadmap](../../analytics_monitoring/ideas/reasoning_bottleneck.md)**

---

## –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
–î–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Redis:
- –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (PostHog): 5-10 –º–∏–Ω—É—Ç.
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ (Prometheus): 1 –º–∏–Ω—É—Ç–∞.
- –ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã (PostgreSQL): 5 –º–∏–Ω—É—Ç.
